@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   Brand tokens & fonts
============================================================ */
:root {
  --brand-indigo:#4f46e5; /* indigo-600 */
  --brand-emerald:#22c55e; /* emerald-500 */
  --brand-purple-1:#8b5cf6;
  --brand-purple-2:#7c3aed;
  --brand-purple-3:#6d28d9;
  --brand-yellow:#ffdf54;

  /* Default = dark theme */
  --bg:#0b0f1a;
  --fg:#ededed;

  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter,
    "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
}
/* Full-height stack + dark base even before Tailwind hydrates */
html, body, #__next { height: 100%; }
html { background: var(--bg); }          /* ✨ prevents white during SSR */
:root { color-scheme: dark; }            /* ✨ native dark form controls, etc. */

/* (Optional) Theming polish */
::selection { background: rgba(59,130,246,.25); color: #fff; }
* { scrollbar-width: thin; scrollbar-color: #475569 transparent; }
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb { background: #475569; border-radius: 8px; }
*::-webkit-scrollbar-track { background: transparent; }

/* ============================================================
   Base document styles
============================================================ */
html, body { height:100%; }
body {
  background: var(--bg);
  color: var(--fg);
  font-family: var(--font-sans);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============================================================
   Question rendering helpers
============================================================ */
.question-html { overflow-wrap:anywhere; word-break:break-word; line-height:1.6; }
.question-html math { font-size:1rem; line-height:1.5; }
.question-html img,
.question-figure img,
.question-figure svg,
.question-img {
  max-width:100%; height:auto; display:block; margin:.5rem 0;
}
.question-html figure, .question-figure figure { margin:.5rem 0; }
.question-figure svg { width:100%; height:auto; }

/* ============================================================
   Hero background & noise overlay
============================================================ */
.hero-gradient {
  background-image:
    radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.22), transparent 60%),
    radial-gradient(900px 480px at 10% 0%, rgba(255,255,255,.12), transparent 65%),
    linear-gradient(180deg, var(--brand-purple-1) 0%, var(--brand-purple-2) 35%, var(--brand-purple-3) 100%);
  background-repeat:no-repeat;
  background-size:cover;
}
.noise-overlay {
  position:absolute; inset:0; mix-blend-mode:overlay; opacity:.8;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'><rect width='120' height='120' fill='none'/><circle cx='6' cy='6' r='1' fill='%23ffffff0d'/></svg>");
}

/* ============================================================
   Navbar translucency
============================================================ */
.nav-blur {
  background-color: rgba(10,10,10,.6);
  backdrop-filter: blur(8px); 
  -webkit-backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* ============================================================
   A11y helpers
============================================================ */
.focus-ring { outline:none; }
.focus-ring:focus-visible {
  box-shadow:0 0 0 2px rgba(79,70,229,.6);
  border-radius:.5rem;
}

/* Prevent wrapping bugs for number tiles */
.nav-tiles { display:flex; flex-wrap:wrap; gap:.75rem; }

/* ============================================================
   Component classes for buttons
============================================================ */
@layer components {
  .btn { @apply inline-flex items-center justify-center rounded-xl px-6 py-3 text-sm font-medium transition; }
  .btn-primary { @apply bg-indigo-600 text-white shadow-md shadow-indigo-600/20 hover:bg-indigo-700 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500; }
  .btn-ghost { @apply border border-white/30 bg-white/15 text-white backdrop-blur hover:bg-white/25; }
  .btn-outline { @apply border border-zinc-300 bg-white text-zinc-900 hover:bg-white; }
  .btn-emerald { @apply bg-emerald-600 text-white hover:bg-emerald-700; }
}

/* Tiny utility for the yellow “FREE” */
.text-brand-yellow { color: var(--brand-yellow); }
